/* Create a BST and Searching an element in a BST*/
#include<stdio.h>
#include<conio.h>
#include<math.h>
#include<alloc.h>
struct node
{
	int info;
	struct node *left;
	struct node *right;
};
typedef struct node NODE;
NODE *root=NULL;
//Fuction to Create a BST
void create(int item)
{
	NODE *newnode,*currptr,*ptr;
	newnode=(NODE *)malloc (sizeof(NODE));
	newnode->info=item;
	newnode->left=NULL;
	newnode->right=NULL;
	if(root==NULL)
		root=newnode;
	else
	{
		currptr=root;
		while(currptr!=NULL)
		{
			ptr=currptr;
			currptr=(item>currptr->info)?(currptr->right):(currptr->left);
			currptr->left;
		}
		if(item<(ptr->info))
			ptr->left=newnode;
		else
			ptr->right=newnode;
	}
}

//Fuction to display the Binary Tree
disp(struct node *ptr,int level)
{
	int i;
	if(ptr!=NULL)
	{
		disp(ptr->right,level+1);
		for(i=0;i<level;i++)
			printf(" ");
		printf("%2d\n",ptr->info);
		disp(ptr->left,level+1);
	}
}
NODE *search(NODE *temp,int item)
{
	if(temp==NULL)
		return NULL;
	else if(item<temp->info)
		search(temp->left,item);
	else if(item>temp->info)
		search(temp->right,item);
	else
		return temp;
}
void main()
{
	int item,ch,i,n;
	clrscr();
	while(1)
	{
		printf("\n1. Create BST");
		printf("\n2. Search");
		printf("\n3. Insert");
		printf("\n4. Display");
		printf("\n5. Exit");
		printf("\nEnter Your Choice:");
		scanf("%d",&ch);
		switch(ch)
		{
			case 1:printf("\nEnter How Many Node");
       			       scanf("%d",&n);
       			       for(i=0;i<n;i++)
       				{
       					printf("\nEnter The Data For The Node\n");
       					scanf("%d",&item);
      					create(item);
       				}
      				break;
			case 2:printf("\nEnter an Item to Be Searched\n\n");
       				scanf("%d",&item);
      				if(search(root,item)!=NULL)
      					 printf("\nThe Item Found");
       				else
       					 printf("\nThe Item Not Found");
       				break;
			case 3:printf("\nEnter an Item to be Inserted\n");
       				scanf("%d",&item);
       				create(item);
       				break;
			case 4:printf("\nThe Binary Search Tree Is\n\n");
      				 disp(root,1);
       				break;
			case 5:exit(1);
		}
	}
getch();
}